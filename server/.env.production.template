# =============================================================================
# Usogui Fansite - PRODUCTION Environment Template
# =============================================================================
# Copy to .env.production and fill with ROTATED production values
# Store actual credentials in secrets manager or Docker secrets
# NEVER commit this file with real values
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=production
PORT=3001

# -----------------------------------------------------------------------------
# Database Configuration (Supabase PostgreSQL)
# -----------------------------------------------------------------------------
# SECURITY: Use rotated credentials, never the same as development
DATABASE_HOST=db.hzcjnrbkgflhafvffgyt.supabase.co
DATABASE_PORT=5432
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=<ROTATE_THIS_PASSWORD>
DATABASE_NAME=postgres
DATABASE_SSL=true

# -----------------------------------------------------------------------------
# Database Safety Controls
# -----------------------------------------------------------------------------
# CRITICAL: Schema sync MUST be disabled in production
ENABLE_SCHEMA_SYNC=false
# Run migrations on startup (recommended for production deployments)
RUN_MIGRATIONS=true

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
# Generate strong secret: openssl rand -base64 64
# MUST be different from development
JWT_SECRET=<ROTATE_THIS_SECRET>
JWT_EXPIRES=1d

# -----------------------------------------------------------------------------
# Fluxer OAuth2 Authentication
# -----------------------------------------------------------------------------
# Use production Fluxer application credentials
FLUXER_CLIENT_ID=<PRODUCTION_FLUXER_CLIENT_ID>
FLUXER_CLIENT_SECRET=<ROTATE_THIS_SECRET>
FLUXER_CALLBACK_URL=https://api.yourdomain.com/api/auth/fluxer/callback
ADMIN_FLUXER_ID=<YOUR_FLUXER_USER_ID>

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
FRONTEND_URL=https://yourdomain.com
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# -----------------------------------------------------------------------------
# Email Service (Resend)
# -----------------------------------------------------------------------------
# Use production API key
RESEND_API_KEY=<ROTATE_THIS_KEY>

# -----------------------------------------------------------------------------
# Backblaze B2 Storage
# -----------------------------------------------------------------------------
# Use production bucket credentials
B2_APPLICATION_KEY_ID=<ROTATE_THIS_KEY_ID>
B2_APPLICATION_KEY=<ROTATE_THIS_KEY>
B2_BUCKET_NAME=usogui-fansite-prod
B2_BUCKET_ID=<PRODUCTION_BUCKET_ID>
B2_CUSTOM_DOMAIN=https://cdn.yourdomain.com

# -----------------------------------------------------------------------------
# Monitoring & Error Tracking
# -----------------------------------------------------------------------------
# Sentry DSN for production error tracking (sign up at https://sentry.io)
SENTRY_DSN=<YOUR_SENTRY_DSN>

# -----------------------------------------------------------------------------
# Rate Limiting (Production)
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=1000
AUTH_RATE_LIMIT_WINDOW_MS=3600000
AUTH_RATE_LIMIT_MAX=50

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# NEVER SET IN PRODUCTION
# -----------------------------------------------------------------------------
# DEV_BYPASS_SECRET=<NEVER_SET_THIS>
# ALLOW_CSRF_BYPASS=<NEVER_SET_THIS>
# ENABLE_TEST_USER=<NEVER_SET_THIS>
